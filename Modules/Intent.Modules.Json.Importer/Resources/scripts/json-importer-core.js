class Icons {
}
Icons.Folder = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4zLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iZmlsZS1jbG9zZWQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTAgNTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUwIDUwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV9hZWJjZjU3OC0zYWI0LTQ1ZjQtOTc5Ni01ZDlmNDQ3MGNmNjAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMjQuODQ1MiIgeTE9IjcuOTc0NSIgeDI9IjI0LjkzNTYiIHkyPSI0NC44MTg1Ij4NCgk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRkJCMDQxIi8+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZDQjY0NSIvPg0KCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGNTdGMjAiLz4NCjwvbGluZWFyR3JhZGllbnQ+DQo8cGF0aCBmaWxsPSJ1cmwoI1NWR0lEXzFfYWViY2Y1NzgtM2FiNC00NWY0LTk3OTYtNWQ5ZjQ0NzBjZjYwKSIgZD0iTTQ1LjEsOEgyNi43QzI2LDgsMjUuNCw4LjMsMjUsOC43bC00LjcsNC43SDUuMWMtMS41LDAtMi43LDEuMS0yLjcsMi41djI2LjNjMCwxLjQsMS4yLDIuNSwyLjcsMi41DQoJaDM5LjZjMS41LDAsMi43LTEuMSwyLjctMi41VjEwLjJDNDcuNCw5LDQ2LjQsOCw0NS4xLDh6IE00My45LDEzLjRIMjUuMmwyLTJoMTYuN1YxMy40eiIvPg0KPC9zdmc+DQo=";
Icons.OpenFolder = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4zLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iZmlsZS1vcGVuIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiDQoJIHk9IjBweCIgdmlld0JveD0iMCAwIDUwIDUwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCA1MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfNjU1NmMwYTUtMzY4OC00NWZhLWIxNDQtMjk1NGU3N2I3MzUwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjEuODExOCIgeTE9IjIzLjM1MTMiIHgyPSIzLjUxODIiIHkyPSIzMy45ODg3Ij4NCgk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRkJCMDQxIi8+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZDQjY0NSIvPg0KCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGNTdGMjAiLz4NCjwvbGluZWFyR3JhZGllbnQ+DQo8cG9seWdvbiBmaWxsPSJ1cmwoI1NWR0lEXzFfNjU1NmMwYTUtMzY4OC00NWZhLWIxNDQtMjk1NGU3N2I3MzUwKSIgcG9pbnRzPSIzLjUsMzQgMS44LDIzLjQgMS44LDIzLjMgIi8+DQo8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzAwMDAwMDQ0MTU5MTYxMzY0OTQ5NDAzNjYwMDAwMDAyNjI0ODkwMDg2NzY2Nzc0MTc2XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxLjgxMTgiIHkxPSIyMy4zNTEzIiB4Mj0iMy41MTgyIiB5Mj0iMzMuOTg4NyI+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCQjA0MSIvPg0KCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGQ0I2NDUiLz4NCgk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjU3RjIwIi8+DQo8L2xpbmVhckdyYWRpZW50Pg0KPHBvbHlnb24gZmlsbD0idXJsKCNTVkdJRF8wMDAwMDA0NDE1OTE2MTM2NDk0OTQwMzY2MDAwMDAwMjYyNDg5MDA4Njc2Njc3NDE3Nl8pIiBwb2ludHM9IjMuNSwzNCAxLjgsMjMuNCAxLjgsMjMuMyAiLz4NCjxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMDAwMDAxNzg5MDgyMjI3ODE3NTQxMTY0MTAwMDAwMTcyMjAzNTE0MTU4NjEzNzk5NzVfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIzLjIyMDgiIHkxPSI2Ljk3ODIiIHgyPSIyOS40MTY1IiB5Mj0iNDUuNjAyMiI+DQoJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZCQjA0MSIvPg0KCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGQ0I2NDUiLz4NCgk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRjU3RjIwIi8+DQo8L2xpbmVhckdyYWRpZW50Pg0KPHBhdGggZmlsbD0idXJsKCNTVkdJRF8wMDAwMDE3ODkwODIyMjc4MTc1NDExNjQxMDAwMDAxNzIyMDM1MTQxNTg2MTM3OTk3NV8pIiBkPSJNNDUuMyw2LjNIMjcuN2MtMC42LDAtMS4yLDAuMy0xLjYsMC44bC0zLjksNC4xDQoJYy0wLjQsMC40LTAuOCwwLjYtMS4zLDAuNkg3LjFjLTEuNCwwLTIuNiwxLjEtMi42LDIuNXY1LjhIMi41Yy0wLjUsMC0xLDAuNS0xLDFjMCwwLjEsMCwwLjEsMCwwLjJsMC4zLDIuMUwzLjUsMzRsMS4xLDcNCgljMC4yLDEuMiwxLjIsMi4xLDIuNSwyLjFoMzcuOGMxLjQsMCwyLjYtMS4xLDIuNi0yLjV2LTMyQzQ3LjUsNy4zLDQ2LjUsNi4zLDQ1LjMsNi4zeiBNNDQuMiwzOC40YzAsMC4zLTAuMSwwLjYtMC4zLDAuOGwtMi41LTE1LjgNCglMNDEsMjEuN2MtMC4xLTEtMS0xLjctMi0xLjdINy45di0zLjZjMC0wLjcsMC41LTEuMiwxLjEtMS4yaDEzLjJjMC41LDAsMS0wLjIsMS4zLTAuNmwyLjgtMi45bDEuMS0xLjFsMC4zLTAuMw0KCUMyOCwxMCwyOC41LDkuOCwyOSw5LjhoMTRjMC42LDAsMS4xLDAuNSwxLjEsMS4yVjM4LjR6Ii8+DQo8L3N2Zz4NCg==";
Icons.JsonFile = "data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KDTwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIFRyYW5zZm9ybWVkIGJ5OiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCA1OCA1OCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgo8c3R5bGU+Ci5teUxvZ28gewogICAgZmlsbDogIzAwMDAwMDsgLyogRGVmYXVsdCBmb3IgbGlnaHQgdGhlbWUgKi8KfQoKW2RhdGEtdGhlbWU9ImRhcmsiXSAubXlMb2dvIHsKICAgIGZpbGw6ICNmZmZmZmY7IC8qIEFkanVzdCBmb3IgZGFyayB0aGVtZSAqLwp9Cjwvc3R5bGU+CgoNPGcgaWQ9IlNWR1JlcG9fYmdDYXJyaWVyIiBjbGFzcz0ibXlMb2dvIiBzdHJva2Utd2lkdGg9IjAiLz4KDTxnIGlkPSJTVkdSZXBvX3RyYWNlckNhcnJpZXIiIGNsYXNzPSJteUxvZ28iIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgoNPGcgaWQ9IlNWR1JlcG9faWNvbkNhcnJpZXIiIGNsYXNzPSJteUxvZ28iPiA8Zz4gPHBhdGggZD0iTTUwLjk0OSwxMi4xODdsLTEuMzYxLTEuMzYxbC05LjUwNC05LjUwNWMtMC4wMDEtMC4wMDEtMC4wMDEtMC4wMDEtMC4wMDItMC4wMDFsLTAuNzctMC43NzEgQzM4Ljk1NywwLjE5NSwzOC40ODYsMCwzNy45ODUsMEg4Ljk2M0M3Ljc3NiwwLDYuNSwwLjkxNiw2LjUsMi45MjZWMzl2MTYuNTM3VjU2YzAsMC44MzcsMC44NDEsMS42NTIsMS44MzYsMS45MDkgYzAuMDUxLDAuMDE0LDAuMSwwLjAzMywwLjE1MiwwLjA0M0M4LjY0NCw1Ny45ODMsOC44MDMsNTgsOC45NjMsNThoNDAuMDc0YzAuMTYsMCwwLjMxOS0wLjAxNywwLjQ3NS0wLjA0OCBjMC4wNTItMC4wMSwwLjEwMS0wLjAyOSwwLjE1Mi0wLjA0M0M1MC42NTksNTcuNjUyLDUxLjUsNTYuODM3LDUxLjUsNTZ2LTAuNDYzVjM5VjEzLjk3OEM1MS41LDEzLjIxMSw1MS40MDcsMTIuNjQ0LDUwLjk0OSwxMi4xODcgeiBNMzkuNSwzLjU2NUw0Ny45MzUsMTJIMzkuNVYzLjU2NXogTTguOTYzLDU2Yy0wLjA3MSwwLTAuMTM1LTAuMDI1LTAuMTk4LTAuMDQ5QzguNjEsNTUuODc3LDguNSw1NS43MjEsOC41LDU1LjUzN1Y0MWg0MXYxNC41MzcgYzAsMC4xODQtMC4xMSwwLjM0LTAuMjY1LDAuNDE0QzQ5LjE3Miw1NS45NzUsNDkuMTA4LDU2LDQ5LjAzNyw1Nkg4Ljk2M3ogTTguNSwzOVYyLjkyNkM4LjUsMi43MDksOC41MzMsMiw4Ljk2MywyaDI4LjU5NSBDMzcuNTI1LDIuMTI2LDM3LjUsMi4yNTYsMzcuNSwyLjM5MVYxMy43OGMtMC41MzItMC40OC0xLjIyOS0wLjc4LTItMC43OGMtMC41NTMsMC0xLDAuNDQ4LTEsMXMwLjQ0NywxLDEsMWMwLjU1MiwwLDEsMC40NDksMSwxdjQgYzAsMS4yLDAuNTQyLDIuMjY2LDEuMzgyLDNjLTAuODQsMC43MzQtMS4zODIsMS44LTEuMzgyLDN2NGMwLDAuNTUxLTAuNDQ4LDEtMSwxYy0wLjU1MywwLTEsMC40NDgtMSwxczAuNDQ3LDEsMSwxIGMxLjY1NCwwLDMtMS4zNDYsMy0zdi00YzAtMS4xMDMsMC44OTctMiwyLTJjMC41NTMsMCwxLTAuNDQ4LDEtMXMtMC40NDctMS0xLTFjLTEuMTAzLDAtMi0wLjg5Ny0yLTJ2LTQgYzAtMC43NzEtMC4zMDEtMS40NjgtMC43OC0yaDExLjM4OWMwLjEzNSwwLDAuMjY1LTAuMDI1LDAuMzkxLTAuMDU4YzAsMC4wMTUsMC4wMDEsMC4wMjEsMC4wMDEsMC4wMzZWMzlIOC41eiIvPiA8cGF0aCBkPSJNMTYuMzU0LDUxLjQzYy0wLjAxOSwwLjQ0Ni0wLjE3MSwwLjc2NC0wLjQ1OCwwLjk1cy0wLjY3MiwwLjI4LTEuMTU1LDAuMjhjLTAuMTkxLDAtMC4zOTYtMC4wMjItMC42MTUtMC4wNjggcy0wLjQyOS0wLjA5OC0wLjYyOS0wLjE1N3MtMC4zODUtMC4xMjMtMC41NTQtMC4xOTFzLTAuMjk5LTAuMTM1LTAuMzktMC4xOThsLTAuNjk3LDEuMTA3YzAuMTgzLDAuMTM3LDAuNDA1LDAuMjYsMC42NywwLjM2OSBzMC41NCwwLjIwNywwLjgyNywwLjI5NHMwLjU2NSwwLjE1LDAuODM0LDAuMTkxczAuNTA0LDAuMDYyLDAuNzA0LDAuMDYyYzAuNDAxLDAsMC43OTEtMC4wMzksMS4xNjktMC4xMTYgYzAuMzc4LTAuMDc3LDAuNzEzLTAuMjE0LDEuMDA1LTAuNDFzMC41MjQtMC40NTYsMC42OTctMC43NzlzMC4yNi0wLjcyMywwLjI2LTEuMTk2di03Ljg0OGgtMS42NjhWNTEuNDN6Ii8+IDxwYXRoIGQ9Ik0yNS4wODMsNDkuMDY0Yy0wLjMxNC0wLjIyOC0wLjY1NC0wLjQyMi0xLjAxOS0wLjU4MXMtMC43MDItMC4zMjMtMS4wMTItMC40OTJzLTAuNTY5LTAuMzY0LTAuNzc5LTAuNTg4IHMtMC4zMTQtMC41MTgtMC4zMTQtMC44ODJjMC0wLjE0NiwwLjAzNi0wLjI5OSwwLjEwOS0wLjQ1OHMwLjE3My0wLjMwMywwLjMwMS0wLjQzMXMwLjI3My0wLjIzNCwwLjQzOC0wLjMyMSBzMC4zMzctMC4xMzksMC41Mi0wLjE1N2MwLjMyOC0wLjAyNywwLjU5Ny0wLjAzMiwwLjgwNy0wLjAxNHMwLjM3OCwwLjA1LDAuNTA2LDAuMDk2czAuMjI2LDAuMDkxLDAuMjk0LDAuMTM3IHMwLjEzLDAuMDgyLDAuMTg1LDAuMTA5YzAuMDA5LTAuMDA5LDAuMDM2LTAuMDU1LDAuMDgyLTAuMTM3czAuMTAxLTAuMTg1LDAuMTY0LTAuMzA4czAuMTMyLTAuMjU1LDAuMjA1LTAuMzk2IHMwLjEzNy0wLjI3MSwwLjE5MS0wLjM5Yy0wLjI2NS0wLjE3My0wLjYxLTAuMjk5LTEuMDM5LTAuMzc2cy0wLjg1My0wLjExNi0xLjI3MS0wLjExNmMtMC40MSwwLTAuOCwwLjA2My0xLjE2OSwwLjE5MSBzLTAuNjkyLDAuMzEzLTAuOTcxLDAuNTU0cy0wLjQ5OSwwLjUzNS0wLjY2MywwLjg4MlMyMC40LDQ2LjEzLDIwLjQsNDYuNTc2YzAsMC40OTIsMC4xMDQsMC45MDIsMC4zMTQsMS4yMyBzMC40NzQsMC42MTMsMC43OTMsMC44NTRzMC42NjEsMC40NTEsMS4wMjUsMC42MjlzMC43MDQsMC4zNTUsMS4wMTksMC41MzNzMC41NzYsMC4zNzYsMC43ODYsMC41OTVzMC4zMTQsMC40ODMsMC4zMTQsMC43OTMgYzAsMC41MTEtMC4xNDgsMC44OTYtMC40NDQsMS4xNTVzLTAuNzIzLDAuMzktMS4yNzgsMC4zOWMtMC4xODMsMC0wLjM3OC0wLjAxOS0wLjU4OC0wLjA1NXMtMC40MTktMC4wODQtMC42MjktMC4xNDQgcy0wLjQxMi0wLjEyMy0wLjYwOC0wLjE5MXMtMC4zNTctMC4xMzktMC40ODUtMC4yMTJsLTAuMjg3LDEuMTc2YzAuMTU1LDAuMTM3LDAuMzQsMC4yNTMsMC41NTQsMC4zNDlzMC40MzksMC4xNzEsMC42NzcsMC4yMjYgYzAuMjM3LDAuMDU1LDAuNDcyLDAuMDk0LDAuNzA0LDAuMTE2czAuNDU4LDAuMDM0LDAuNjc3LDAuMDM0YzAuNTExLDAsMC45NjYtMC4wNzcsMS4zNjctMC4yMzJzMC43MzgtMC4zNjIsMS4wMTItMC42MjIgczAuNDg1LTAuNTYxLDAuNjM2LTAuOTAyczAuMjI2LTAuNjk1LDAuMjI2LTEuMDZjMC0wLjUzOC0wLjEwNC0wLjk3OC0wLjMxNC0xLjMxOVMyNS4zOTcsNDkuMjkyLDI1LjA4Myw0OS4wNjR6Ii8+IDxwYXRoIGQ9Ik0zNC44NzIsNDUuMDcyYy0wLjM3OC0wLjQyOS0wLjgyLTAuNzU0LTEuMzI2LTAuOTc4cy0xLjA2LTAuMzM1LTEuNjYxLTAuMzM1cy0xLjE1NSwwLjExMS0xLjY2MSwwLjMzNSBzLTAuOTQ4LDAuNTQ5LTEuMzI2LDAuOTc4cy0wLjY3NSwwLjk2NC0wLjg4OSwxLjYwNnMtMC4zMjEsMS4zODgtMC4zMjEsMi4yMzVzMC4xMDcsMS41OTUsMC4zMjEsMi4yNDJzMC41MTEsMS4xODUsMC44ODksMS42MTMgczAuODIsMC43NTIsMS4zMjYsMC45NzFzMS4wNiwwLjMyOCwxLjY2MSwwLjMyOHMxLjE1NS0wLjEwOSwxLjY2MS0wLjMyOHMwLjk0OC0wLjU0MiwxLjMyNi0wLjk3MXMwLjY3NS0wLjk2NiwwLjg4OS0xLjYxMyBzMC4zMjEtMS4zOTUsMC4zMjEtMi4yNDJzLTAuMTA3LTEuNTkzLTAuMzIxLTIuMjM1UzM1LjI1LDQ1LjUwMSwzNC44NzIsNDUuMDcyeiBNMzQuMTk1LDUwLjY5OCBjLTAuMTM3LDAuNDg3LTAuMzI2LDAuODgyLTAuNTY3LDEuMTgzcy0wLjUxNSwwLjUxOC0wLjgyLDAuNjQ5cy0wLjYyNywwLjE5OC0wLjk2NCwwLjE5OGMtMC4zMjgsMC0wLjY0MS0wLjA3LTAuOTM3LTAuMjEyIHMtMC41NjEtMC4zNjQtMC43OTMtMC42N3MtMC40MTUtMC42OTktMC41NDctMS4xODNzLTAuMjAzLTEuMDY2LTAuMjEyLTEuNzVjMC4wMDktMC43MDIsMC4wODItMS4yOTQsMC4yMTktMS43NzcgYzAuMTM3LTAuNDgzLDAuMzI2LTAuODc3LDAuNTY3LTEuMTgzczAuNTE1LTAuNTIxLDAuODItMC42NDlzMC42MjctMC4xOTEsMC45NjQtMC4xOTFjMC4zMjgsMCwwLjY0MSwwLjA2OCwwLjkzNywwLjIwNSBzMC41NjEsMC4zNiwwLjc5MywwLjY3czAuNDE1LDAuNzA0LDAuNTQ3LDEuMTgzczAuMjAzLDEuMDYsMC4yMTIsMS43NDNDMzQuNDA1LDQ5LjYxNiwzNC4zMzIsNTAuMjExLDM0LjE5NSw1MC42OTh6Ii8+IDxwb2x5Z29uIHBvaW50cz0iNDQuMDEyLDUwLjg2OSA0MC4wNjEsNDMuOTI0IDM4LjM5Myw0My45MjQgMzguMzkzLDU0IDQwLjA2MSw1NCA0MC4wNjEsNDcuMDU1IDQ0LjAxMiw1NCA0NS42OCw1NCA0NS42OCw0My45MjQgNDQuMDEyLDQzLjkyNCAiLz4gPHBhdGggZD0iTTIwLjUsMjB2LTRjMC0wLjU1MSwwLjQ0OC0xLDEtMWMwLjU1MywwLDEtMC40NDgsMS0xcy0wLjQ0Ny0xLTEtMWMtMS42NTQsMC0zLDEuMzQ2LTMsM3Y0YzAsMS4xMDMtMC44OTcsMi0yLDIgYy0wLjU1MywwLTEsMC40NDgtMSwxczAuNDQ3LDEsMSwxYzEuMTAzLDAsMiwwLjg5NywyLDJ2NGMwLDEuNjU0LDEuMzQ2LDMsMywzYzAuNTUzLDAsMS0wLjQ0OCwxLTFzLTAuNDQ3LTEtMS0xIGMtMC41NTIsMC0xLTAuNDQ5LTEtMXYtNGMwLTEuMi0wLjU0Mi0yLjI2Ni0xLjM4Mi0zQzE5Ljk1OCwyMi4yNjYsMjAuNSwyMS4yLDIwLjUsMjB6Ii8+IDxjaXJjbGUgY3g9IjI4LjUiIGN5PSIxOS41IiByPSIxLjUiLz4gPHBhdGggZD0iTTI4LjUsMjVjLTAuNTUzLDAtMSwwLjQ0OC0xLDF2M2MwLDAuNTUyLDAuNDQ3LDEsMSwxczEtMC40NDgsMS0xdi0zQzI5LjUsMjUuNDQ4LDI5LjA1MywyNSwyOC41LDI1eiIvPiA8L2c+IDwvZz4KDTwvc3ZnPg==";
/// <reference path="../../TypescriptCore/elementmacro.context.api.d.ts" />
async function executeImporterModuleTask(taskTypeId, input) {
    const payload = JSON.stringify(input);
    console.log(`Executing Module Task ${taskTypeId} => ${payload}`);
    const moduleTaskResultString = await executeModuleTask(taskTypeId, payload);
    console.log(`Module Task ${taskTypeId} Completed`);
    return JSON.parse(moduleTaskResultString);
}
async function importJson(element) {
    var _a, _b;
    // Page 1: Folder Selection
    const folderSelectionPage = createFolderSelectionPage(element);
    // Page 2: File Selection
    const fileSelectionPage = createFileSelectionPage();
    const formConfig = {
        title: "JSON Import",
        fields: [],
        pages: [folderSelectionPage, fileSelectionPage]
    };
    const inputs = await dialogService.openForm(formConfig);
    if (inputs === null) {
        return; // User cancelled
    }
    // Validate inputs
    if (!inputs.sourceFolder) {
        await dialogService.error("Please specify a source folder.");
        return;
    }
    // Get selected files from the tree view
    const selectedFiles = [];
    selectedFiles.push(...inputs.selectionTree);
    if (!selectedFiles.length) {
        await dialogService.warn("No JSON files selected to import.");
        return;
    }
    const importConfig = {
        sourceFolder: inputs.sourceFolder,
        packageId: element.getPackage().id,
        targetFolderId: element.specialization === "Folder" ? element.id : null,
        profile: inputs.profile,
        selectedFiles: selectedFiles,
        casingConvention: inputs.casingConvention,
    };
    // Execute import task with structured result handling
    const executionResult = await executeImporterModuleTask("Intent.Modules.Json.Importer.Tasks.JsonImport", importConfig);
    console.log(`executionResult = ${JSON.stringify(executionResult)}`);
    if (((_a = executionResult.errors) !== null && _a !== void 0 ? _a : []).length > 0) {
        await dialogService.error(executionResult.errors.join("\r\n"));
        return;
    }
    const warnings = (_b = executionResult.warnings) !== null && _b !== void 0 ? _b : [];
    if (warnings.length > 0) {
        await dialogService.warn("Import complete.\r\n\r\n" + warnings.join("\r\n"));
        return;
    }
    await dialogService.info("Import complete.");
}
async function getJsonFilesAndPreview(folderPath, glob) {
    var _a;
    const request = {
        sourceFolder: folderPath,
        pattern: glob || "**/*.json",
    };
    const executionResult = await executeImporterModuleTask("Intent.Modules.Json.Importer.Tasks.JsonPreview", request);
    if (((_a = executionResult.errors) !== null && _a !== void 0 ? _a : []).length > 0) {
        throw new Error(executionResult.errors.join("\r\n"));
    }
    return (executionResult === null || executionResult === void 0 ? void 0 : executionResult.result) || { rootPath: folderPath, rootName: "Unknown", files: [] };
}
function createFolderSelectionPage(element) {
    var _a;
    // Determine available profiles based on the designer
    const packageModel = element.getPackage();
    const profileOptions = getAvailableProfiles(packageModel);
    return {
        fields: [
            {
                id: "sourceFolder",
                fieldType: "open-directory",
                label: "Source Folder",
                placeholder: "path/to/json/folder",
                hint: "Path to the folder containing JSON files to scan and import.",
                openDirectoryOptions: {
                    title: "Select JSON Source Folder"
                },
                isRequired: true
            },
            {
                id: "pattern",
                fieldType: "text",
                label: "File Pattern",
                placeholder: "**/*.json",
                hint: "Glob pattern to filter JSON files (e.g., **/*.json, data/*.json, **/user*.json).",
                isRequired: true,
                value: "**/*.json"
            },
            {
                id: "profile",
                fieldType: "select",
                label: "Profile",
                hint: "Select the import profile for these files.",
                isRequired: true,
                isHidden: profileOptions.length === 1,
                selectOptions: profileOptions,
                value: (_a = profileOptions[0]) === null || _a === void 0 ? void 0 : _a.id
            },
            {
                id: "casingConvention",
                fieldType: "select",
                label: "Casing Convention",
                hint: "Select how property names should be cased when imported.",
                isRequired: true,
                selectOptions: [
                    { id: "PascalCase", description: "PascalCase", additionalInfo: "(e.g. FirstName)" },
                    { id: "AsIs", description: "As Is", additionalInfo: "(preserve original casing)" }
                ],
                value: "PascalCase"
            }
        ]
    };
}
function getAvailableProfiles(packageModel) {
    const profiles = [];
    if (packageModel.specialization == "Domain Package") {
        profiles.push({ id: "DomainDocumentDB", description: "Domain Document DB Profile" });
    }
    if (packageModel.specialization == "Eventing Package") {
        profiles.push({ id: "EventingMessages", description: "Eventing Messages Profile" });
    }
    return profiles;
}
function createFileSelectionPage() {
    return {
        onInitialize: async (formApi) => {
            try {
                const sourceFolder = formApi.getField("sourceFolder").value;
                if (!sourceFolder) {
                    await dialogService.error("No source folder selected.");
                    return;
                }
                const pattern = formApi.getField("pattern").value;
                const previewData = await getJsonFilesAndPreview(sourceFolder, pattern);
                if (previewData.files.length === 0) {
                    await dialogService.warn("No JSON files found in the selected folder.");
                    return;
                }
                // Populate the tree with found files (now supports folders)
                const selectionTree = formApi.getField("selectionTree");
                selectionTree.treeViewOptions.rootNode = buildTree(previewData.rootName, previewData.files);
            }
            catch (error) {
                console.error("Error scanning folder:", error);
                await dialogService.error(`Error scanning folder: ${error}`);
            }
        },
        fields: [
            {
                id: "selectionTree",
                fieldType: "tree-view",
                label: "Select JSON Files to Import",
                hint: "Choose which JSON files you want to import into your domain model.",
                isRequired: false,
                treeViewOptions: {
                    height: "400px",
                    width: "100%",
                    isMultiSelect: true,
                    selectableTypes: [
                        {
                            specializationId: "json-folder",
                            isSelectable: true,
                            autoSelectChildren: true,
                            autoExpand: true,
                        },
                        {
                            specializationId: "json-file",
                            isSelectable: true
                        },
                    ],
                    rootNode: {
                        specializationId: "json-folder",
                        id: "root",
                        label: "Loading...",
                        isExpanded: true,
                        children: [],
                    },
                },
            }
        ],
        onContinue: async (form) => {
            let result = form.getValues();
            let selections = result.selectionTree.filter((x) => !x.startsWith("folder/"));
            form.getField("selectionTree").value = selections;
        }
    };
}
function buildTree(rootName, files) {
    const root = {
        specializationId: "json-folder",
        id: "root",
        label: `${rootName} (${files.length} found)`,
        icon: Icons.Folder,
        isSelected: true,
        isExpanded: true,
        children: []
    };
    for (const file of files) {
        // file.relativePath is already relative from backend; normalize slashes
        const relPath = file.relativePath.replace(/\\/g, "/");
        const parts = relPath.split("/");
        let node = root;
        for (let i = 0; i < parts.length; i++) {
            const part = parts[i];
            const isFile = i === parts.length - 1;
            let child = node.children.find((c) => c.label === part);
            if (!child) {
                child = isFile
                    ? {
                        specializationId: "json-file",
                        id: file.fullPath,
                        label: part,
                        isExpanded: false,
                        isSelected: true,
                        icon: Icons.JsonFile,
                        children: []
                    }
                    : {
                        specializationId: "json-folder",
                        id: "folder/" + node.id + "/" + part,
                        label: part,
                        isExpanded: true,
                        isSelected: true,
                        icon: Icons.Folder,
                        children: []
                    };
                node.children.push(child);
            }
            node = child;
        }
    }
    return root;
}
